package mum.mpp.atm.model;import mum.mpp.atm.view.Simulation;public class CustomerConsole {	public CustomerConsole() {	}	public void display(String message) {		Simulation.getInstance().clearDisplay();		Simulation.getInstance().display(message);	}	public int readPIN(String prompt) throws Cancelled {		Simulation.getInstance().clearDisplay();		Simulation.getInstance().display(prompt);		Simulation.getInstance().display("");		String input = Simulation.getInstance().readInput(Simulation.PIN_MODE, 0);		Simulation.getInstance().clearDisplay();		if (input == null)			throw new Cancelled();		else			return Integer.parseInt(input);	}	public synchronized int readMenuChoice(String prompt, String[] menu) throws Cancelled {		Simulation.getInstance().clearDisplay();		Simulation.getInstance().display(prompt);		for (int i = 0; i < menu.length; i++)			Simulation.getInstance().display((i + 1) + ") " + menu[i]);		String input = Simulation.getInstance().readInput(Simulation.MENU_MODE, menu.length);		Simulation.getInstance().clearDisplay();		if (input == null)			throw new Cancelled();		else			return Integer.parseInt(input) - 1;	}	public synchronized Money readAmount(String prompt) throws Cancelled {		Simulation.getInstance().clearDisplay();		Simulation.getInstance().display(prompt);		Simulation.getInstance().display("");		String input = Simulation.getInstance().readInput(Simulation.AMOUNT_MODE, 0);		Simulation.getInstance().clearDisplay();		if (input == null)			throw new Cancelled();		else {			int dollars = Integer.parseInt(input) / 100;			int cents = Integer.parseInt(input) % 100;			return new Money(dollars, cents);		}	}	public static class Cancelled extends Exception {		/**		 * 		 */		private static final long serialVersionUID = 1L;		public Cancelled() {			super("Cancelled by customer");		}	}		public static class InvalidCard extends Exception {		/**		 * 		 */		private static final long serialVersionUID = 1L;		public InvalidCard() {			super("Invalid card!");		}	}}